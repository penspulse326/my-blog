"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3350],{8235:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var s=t(4848),r=t(8453);const a={title:"[\u7b46\u8a18] React-Router",description:"React-Router \u7684\u7c21\u6613\u4e0a\u624b",date:new Date("2023-12-18T16:38:00.000Z"),keywords:["\u7a0b\u5f0f\u8a9e\u8a00","JavaScript","React","React-Router"],slug:"react-router"},o=void 0,c={id:"react/2023-12-18-react-router",title:"[\u7b46\u8a18] React-Router",description:"React-Router \u7684\u7c21\u6613\u4e0a\u624b",source:"@site/docs/react/2023-12-18-react-router.md",sourceDirName:"react",slug:"/react/react-router",permalink:"/react/react-router",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"[\u7b46\u8a18] React-Router",description:"React-Router \u7684\u7c21\u6613\u4e0a\u624b",date:"2023-12-18T16:38:00.000Z",keywords:["\u7a0b\u5f0f\u8a9e\u8a00","JavaScript","React","React-Router"],slug:"react-router"},sidebar:"tutorialSidebar",previous:{title:"[\u7b46\u8a18] React \u7c21\u6613\u4e92\u52d5\u5730\u5716",permalink:"/react/react-taiwan-map"},next:{title:"CSS",permalink:"/category/css"}},i={},l=[{value:"HashRouter / BrowserRouter",id:"hashrouter--browserrouter",level:2},{value:"Route",id:"route",level:2},{value:"Outlet",id:"outlet",level:2},{value:"Link",id:"link",level:2},{value:"NavLink",id:"navlink",level:2},{value:"Dynamic Route",id:"dynamic-route",level:2},{value:"param",id:"param",level:2},{value:"query string",id:"query-string",level:2},{value:"useNavigate",id:"usenavigate",level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:2}];function u(e){const n={a:"a",br:"br",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u524d\u7aef\u6846\u67b6\u901a\u5e38\u4e5f\u6703\u8ca0\u8cac\u8def\u7531\u7ba1\u7406\uff0c\u5982\u679c\u662f\u8981\u505a\u5927\u578b\u5143\u4ef6\u7684\u5207\u63db\uff08\u63db\u9801\uff09\uff0c",(0,s.jsx)(n.br,{}),"\n","\u5c31\u6703\u7528\u5230\u8def\u7531\u7ba1\u7406\u4f86\u91cd\u65b0\u5c0e\u5411\u7db2\u5740\uff0c\u4f46\u9084\u662f\u6703\u7dad\u6301 SPA \u7684\u7279\u8272\uff1a",(0,s.jsx)(n.br,{}),"\n","\u300c",(0,s.jsx)(n.strong,{children:"\u4e0d\u6703\u91cd\u65b0\u6574\u7406\u9801\u9762"}),"\u300d\uff01",(0,s.jsx)(n.br,{}),"\n","\u9019\u6a23\u7684\u529f\u80fd\u53ef\u4ee5\u7a31\u70ba",(0,s.jsx)(n.strong,{children:"\u524d\u7aef\u8def\u7531"}),"\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"hashrouter--browserrouter",children:"HashRouter / BrowserRouter"}),"\n",(0,s.jsxs)(n.p,{children:["\u5b98\u65b9\u63a8\u85a6 BrowserRouter \u4f86\u5f15\u9032\u8def\u7531\u7cfb\u7d71\uff0c",(0,s.jsx)(n.br,{}),"\n","\u4f46\u662f\u4e00\u822c\u7df4\u7fd2\u3001\u4ea4\u4f5c\u696d\u7b49\u7b49\uff0c\u6703\u628a React \u5c08\u6848\u6253\u5305\u6210\u975c\u614b\u9801\u9762\uff0c",(0,s.jsx)(n.br,{}),"\n","\u518d\u4e0a\u50b3\u9019\u5305\u975c\u614b\u6a94\u6848\u8b8a\u6210 Github Page\uff0c\u9019\u6642\u8981\u7528 HashRouter\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["BrowserRouter \u9700\u8981\u76f4\u63a5\u904b\u884c React \u624d\u80fd\u505a\u5230\u5143\u4ef6\u5207\u63db\uff0c",(0,s.jsx)(n.br,{}),"\n","\u6240\u4ee5\u6709\u5c08\u7528\u4f3a\u670d\u5668\u5728\u8dd1 React App \u7684\u72c0\u6cc1\u4e0b\u6703\u4f7f\u7528 BrowerRouter \u505a\u7ba1\u7406\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"route",children:"Route"}),"\n",(0,s.jsx)(n.p,{children:"Route \u53ef\u4ee5\u8a2d\u5b9a\u6307\u5411\u7684\u8def\u5f91\u548c\u8981\u6e32\u67d3\u7684\u5143\u4ef6\uff0c\u4f46\u662f\u5916\u5c64\u8981\u5148\u7528 Routes \u5305\u8d77\u4f86\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const App = () => (\n  <HashRouter>\n    <Routes>\n      <Route path="/" element={<Homepage />} />\n    </Routes>\n  </HashRouter>\n);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u57fa\u672c\u7684\u8def\u7531\u7d50\u69cb\u5927\u6982\u6703\u9577\u9019\u6a23\uff0cRoute \u5143\u4ef6\u88e1\u9762\u53ef\u4ee5\u518d\u5305\u4e00\u500b Route \u5f62\u6210",(0,s.jsx)(n.strong,{children:"\u5de2\u72c0\u8def\u7531"}),"\uff0c",(0,s.jsx)(n.br,{}),"\n","\u9019\u6a23\u7684\u7d50\u69cb\u4e5f\u6bd4\u8f03\u8cbc\u8fd1\u6211\u5011\u4e00\u822c\u5728\u7db2\u5740\u5217\u770b\u5230\u7684\u7d50\u69cb\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const App = () => (\n  <HashRouter>\n    <Routes>\n      <Route path="/" element={<Layout />}>\n        <Route path="about" element={<About />} />\n        <Route path="products" element={<Posts />} />\n        <Route path="contact" element={<Contact />} />\n      </Route>\n    </Routes>\n  </HashRouter>\n);\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"outlet",children:"Outlet"}),"\n",(0,s.jsxs)(n.p,{children:["\u901a\u5e38\u4e00\u500b\u7db2\u7ad9\u7684 Navbar\u3001Footer \u9084\u6709\u4e00\u4e9b\u901a\u7528\u5143\u4ef6\u662f\u6bcf\u9801\u90fd\u6703\u56fa\u5b9a\u51fa\u73fe\u7684\uff0c",(0,s.jsx)(n.br,{}),"\n","\u6240\u4ee5\u6211\u5011\u6703\u518d\u8a2d\u8a08\u4e00\u500b Layout \u5143\u4ef6\u628a\u9019\u4e9b\u56fa\u5b9a\u5143\u4ef6\u5305\u8d77\u4f86\uff0c",(0,s.jsx)(n.br,{}),"\n","\u7136\u5f8c\u518d\u7576\u4e2d\u63d2\u5165 Outlet \u9019\u500b\u5143\u4ef6\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const Layout = () => (\n  <>\n    <Navbar></Navbar>\n    <Outlet></Outlet>\n    <Footer></Footer>\n  </>\n);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u500b Layout \u5143\u4ef6\u6703\u653e\u5728\u5de2\u72c0\u8def\u7531\u7684\u9802\u5c64\uff0c",(0,s.jsx)(n.br,{}),"\n","\u8868\u793a\u88e1\u9762\u8981\u5339\u914d\u7684\u6240\u6709\u9801\u9762\u4e0d\u7528\u66f4\u52d5 Layout \u88e1\u9762\u7684\u6771\u897f\uff0c",(0,s.jsx)(n.br,{}),"\n","\u800c\u525b\u525b\u63d2\u5165\u7684 Outlet \u5143\u4ef6\u5c31\u6703\u4f9d\u7167\u5339\u914d\u5230\u7684\u8def\u5f91\u505a\u66f4\u63db\uff0c\u8b8a\u6210 About\u3001Contact \u7b49\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const App = () => (\n  <HashRouter>\n    <Routes>\n      <Route path="/" element={<Layout />}>\n        <Route path="about" element={<About />} />\n        <Route path="products" element={<Posts />} />\n        <Route path="contact" element={<Contact />} />\n      </Route>\n    </Routes>\n  </HashRouter>\n);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u6642\u9023\u4e0a\u7db2\u7ad9\u53ea\u6703\u986f\u793a Layout \u88e1\u9762\u7684 Navbar \u548c Footer\uff0c\u6c92\u6709\u5176\u4ed6\u5167\u5bb9\uff0c",(0,s.jsx)(n.br,{}),"\n",'\u56e0\u70ba\u6c92\u6709\u5339\u914d\u5230\u4e0b\u9762\u4efb\u4f55\u8def\u5f91\uff0c\u4f46\u4e00\u822c\u6703\u5e0c\u671b\u9019\u500b\u8def\u5f91 "/" \u9810\u8a2d\u8981\u986f\u793a\u9996\u9801\u3002']}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u5de2\u72c0\u8def\u7531\u7684\u7b2c\u4e00\u9805\u65b0\u589e\u4e00\u500b Route\uff0cpath \u5c6c\u6027\u4e0d\u7528\u6253\u800c\u662f\u6539\u6210 index\uff0c",(0,s.jsx)(n.br,{}),"\n",'\u9019\u6a23 "/" \u5c31\u6703\u986f\u793a Home \u5143\u4ef6\u4e86\uff1a']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<Routes>\n  <Route path="/" element={<Layout />}>\n    <Route index element={<Home />} />\n  </Route>\n</Routes>\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7576\u7136\u8d85\u904e\u5169\u5c64\u4ee5\u4e0a\u7684\u8def\u7531\u4e5f\u662f\u5f88\u5e38\u898b\u7684\uff0c\u6240\u4ee5\u4e0d\u53ea\u6709 Layout \u6703\u9700\u8981\u52a0\u5165 Outlet \u5143\u4ef6\u3002"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"link",children:"Link"}),"\n",(0,s.jsxs)(n.p,{children:["Link \u985e\u4f3c a \u6a19\u7c64\uff0c\u4f46\u662f a \u6a19\u7c64\u6703\u8df3\u8f49\u9801\u9762\uff0cLink \u5247\u662f\u5e6b\u6211\u5011\u505a\u5230\u5143\u4ef6\u5207\u63db\uff0c",(0,s.jsx)(n.br,{}),"\n","\u96d6\u7136\u7db2\u5740\u5217\u6709\u6539\u8b8a\u4f46\u4e0d\u6703\u91cd\u65b0\u5237\u65b0\u9801\u9762\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<Link to="about">\u95dc\u65bc\u6211</Link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e00\u822c\u5e36\u8cc7\u6599\u53ef\u4ee5\u7528 query string \u6216 params \u7684\u65b9\u5f0f\uff0c \u5728 React-Router \u53ef\u4ee5\u76f4\u63a5\u7528 props \u5e36\u6771\u897f\uff0c",(0,s.jsx)(n.br,{}),"\n","\u9019\u6642\u53ef\u4ee5\u5728 Link \u88e1\u9762\u4f7f\u7528 state\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<Link to="comments" state={data}>\n  \u7559\u8a00\n</Link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u9762\u7684 Link \u9ede\u64ca\u5f8c\u6703\u5207\u63db\u5230 comments \u9019\u500b path \u5339\u914d\u7684\u5143\u4ef6\uff0c",(0,s.jsx)(n.br,{}),"\n","\u5728\u5143\u4ef6\u88e1\u9762\u7528 useLocation \u53ef\u4ee5\u628a\u525b\u525b\u593e\u5e36\u7684 state \u62ff\u51fa\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const location = useLocation();\nconsole.log(location.state);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"navlink",children:"NavLink"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f5c\u7528\u548c Link \u5dee\u4e0d\u591a\uff0c\u4f46\u662f NavLink \u6709\u81ea\u5e36\u4e00\u4e9b props\uff0c\u53ef\u4ee5\u7528\u8868\u9054\u5f0f\u89e3\u69cb\u51fa\u4f86\uff0c",(0,s.jsx)(n.br,{}),"\n","\u6700\u5e38\u7528\u7684\u662f isActive\uff0c\u9019\u500b\u53c3\u6578\u7528\u4f86\u8868\u793a\u76ee\u524d\u7684\u7db2\u5740\u662f\u5426\u5339\u914d\u5230 to \u5beb\u7684\u8def\u5f91\uff0c",(0,s.jsx)(n.br,{}),"\n","\u89e3\u69cb\u5728 className\u3001inline style \u6216 children \u90fd\u5f88\u597d\u7528\uff0c",(0,s.jsx)(n.br,{}),"\n",'\u9019\u908a\u793a\u7bc4\u5339\u914d\u6210\u529f\u5c31\u5957\u7528 "active" \u9019\u500b className\uff1a']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<NavLink to="login" className={({ isActive }) => (isActive ? "active" : "")}>\n  \u767b\u5165\n</NavLink>\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"dynamic-route",children:"Dynamic Route"}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u9762\u4ecb\u7d39\u7684\u8def\u7531\u65b9\u5f0f\u5927\u90e8\u5206\u90fd\u662f\u5beb\u597d\u5c31\u53ef\u4ee5\u505a\u5230\u5143\u4ef6\u5207\u63db\u4e86\uff0c",(0,s.jsx)(n.br,{}),"\n","\u4f46\u900f\u904e ",(0,s.jsx)(n.code,{children:"/:id"}),"\u3001",(0,s.jsx)(n.code,{children:"/comments?name=vincent"})," \u7522\u751f\u7684\u6709\u96a8\u6a5f\u6027\u3001\u4e0d\u662f\u56fa\u5b9a\u8def\u5f91\u7684\u52d5\u614b\u8def\u7531\uff0c",(0,s.jsx)(n.br,{}),"\n","\u5728 React-Router \u4e5f\u6709\u5c0d\u61c9\u7684\u65b9\u5f0f\u53ef\u4ee5\u6355\u6349\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"param",children:"param"}),"\n",(0,s.jsx)(n.p,{children:"\u5047\u8a2d\u6211\u5011\u5beb\u597d Route \u8981\u5229\u7528 id \u53bb\u6e32\u67d3\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<Route path="comments" element={<CommentList />}>\n  <Route path=":id" element={<Comment />} />\n</Route>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9032\u5230 Comment \u9019\u500b\u5143\u4ef6\u5f8c\u8981\u7528 useParams \u4f86\u6355\u6349\u6211\u5011\u5beb\u5728\u7db2\u5740\u4e0a\u7684",(0,s.jsx)(n.code,{children:":id"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const Comment = () => {\n  const { id } = useParams();\n\n  return <span>\u7559\u8a00 id: {id}</span>;\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"query-string",children:"query string"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"/comments?name=vincent"})," \u9019\u6bb5 query string \u7684\u503c\u5247\u662f\u8981\u7528 useSearchParams \u4f86\u53d6\u5f97\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const { name } = useSearchParams();\nconsole.log(name); // vincent\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"usenavigate",children:"useNavigate"}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u52d5\u614b\u8def\u7531\u88e1\u9762\u6211\u5011\u6709\u53ef\u80fd\u6253\u4e86 API \u4e4b\u5f8c\uff0c\u8cc7\u6599\u5eab\u544a\u8a34\u6211\u5011\u6b64 id \u4e0d\u5b58\u5728\uff0c",(0,s.jsx)(n.br,{}),"\n","\u6216\u662f\u767b\u5165\u72c0\u614b\u904e\u671f\u4e86\u9700\u8981\u91cd\u65b0\u5c0e\u5411\u9801\u9762\u7b49\u7b49\uff0c\u9762\u5c0d\u6b64\u985e\u932f\u8aa4\u8655\u7406\u7684\u60c5\u6cc1\u53ef\u4ee5\u4f7f\u7528 useNavigate\uff0c",(0,s.jsx)(n.br,{}),"\n","\u628a\u76ee\u524d\u7684\u756b\u9762\u8f49\u8df3\uff0c\u53e6\u5916 navigate \u4e5f\u662f\u80fd\u5e36 state \u904e\u53bb\u7684\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const navigate = useNavigate();\n\nif (!id) navigate("/error", { state: message });\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u6a23\u7528 useLocation \u5c31\u53ef\u4ee5\u53d6\u51fa state \u56c9\u3002"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://reactrouter.com/en/main/start/tutorial",children:"React-Router Tutorial"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/gV07Tqi0i_o?si=zTTQ2h-ON3XhtDS-",children:"Wei Wei \u7684 React-Router \u6559\u5b78"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(6540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);