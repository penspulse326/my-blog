"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2968],{4997:(s,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>a});var t=e(4848),c=e(8453);const r={title:"[PostCSS] \u5c0e\u5165 PostCSS",description:"Tailwind \u7684\u5b89\u88dd\u65b9\u6cd5",date:new Date("2023-10-11T15:54:38.000Z"),keywords:["CSS","PostCSS"],slug:"install-postcss"},l=void 0,i={id:"css/2023-10-11-postcss-intro",title:"[PostCSS] \u5c0e\u5165 PostCSS",description:"Tailwind \u7684\u5b89\u88dd\u65b9\u6cd5",source:"@site/docs/css/2023-10-11-postcss-intro.md",sourceDirName:"css",slug:"/css/install-postcss",permalink:"/en/css/install-postcss",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"[PostCSS] \u5c0e\u5165 PostCSS",description:"Tailwind \u7684\u5b89\u88dd\u65b9\u6cd5",date:"2023-10-11T15:54:38.000Z",keywords:["CSS","PostCSS"],slug:"install-postcss"},sidebar:"tutorialSidebar",previous:{title:"[CSS] \u7db2\u683c\u7cfb\u7d71\u6982\u5ff5",permalink:"/en/css/css-grid-system"},next:{title:"[Tailwind] \u5c0e\u5165 Tailwind",permalink:"/en/css/install-tailwind"}},o={},a=[{value:"CLI",id:"cli",level:2},{value:"Webpack",id:"webpack",level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:2}];function p(s){const n={a:"a",br:"br",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["PostCSS \u662f\u4e00\u500b CSS \u5de5\u5177\uff0c\u6709\u8a31\u591a\u52a0\u5de5 CSS \u5167\u5bb9\u7684\u529f\u80fd\u63d2\u4ef6\uff0c",(0,t.jsx)(n.br,{}),"\n","\u96d6\u7136\u7d93\u5e38\u88ab\u7ffb\u6210\u300c\u5f8c\u8655\u7406\u5668\u300d\uff0c\u4f46\u6839\u64da\u9078\u7528\u63d2\u4ef6\u7684\u4e0d\u540c\uff0c\u5b83\u4e5f\u80fd\u505a\u5230\u50cf SASS \u4e00\u6a23\u7684\u300c\u9810\u8655\u7406\u5668\u300d\u529f\u80fd\uff01"]}),"\n",(0,t.jsx)(n.p,{children:"PostCSS \u7684\u4efb\u52d9\u53ef\u4ee5\u900f\u904e CLI \u6216 webpack \u7de8\u8b6f\u5b8c\u6210\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"cli",children:"CLI"}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88dd PostCSS \u8207 CLI\uff0c\u9019\u908a\u4ee5 autoprefixer \u9019\u500b\u63d2\u4ef6\u70ba\u4f8b\u9806\u4fbf\u5b89\u88dd\u9032\u53bb\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D postcss postcss-cli autoprefixer \n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6210\u5957\u7684\u6846\u67b6\u7cfb\u7d71\u6709\u7684\u6703\u5305\u9032 PostCSS\uff08\u50cf Next.js\uff09\uff0c\u4f46\u76ee\u524d\u6211\u5011\u662f\u624b\u52d5\u5efa\u74b0\u5883\u4f86\u4e86\u89e3\u904b\u4f5c\u904e\u7a0b\uff0c",(0,t.jsx)(n.br,{}),"\n","\u6240\u4ee5\u6211\u5011\u8981\u81ea\u5df1\u5728\u6839\u76ee\u9304\u65b0\u589e postcss.config.js \u9019\u500b\u6a94\u6848\uff0c",(0,t.jsx)(n.br,{}),"\n","\u7136\u5f8c\u4f9d\u7167\u4e0b\u9762\u7684\u683c\u5f0f\u628a\u525b\u525b\u5b89\u88dd\u7684 autoprefixer \u8f09\u5165\u9032\u4f86\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="postcss.config.js "',children:"module.exports = {\n\tplugins: {\n\t\tautoprefixer: {},\n\t},\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u4e0b\u4f86\u65b0\u589e\u8981\u52a0\u5de5\u7684 css \u6a94\u6848\uff0c\u7136\u5f8c\u900f\u904e\u525b\u525b\u5b89\u88dd\u7684 postcss-cli\uff0c\u53bb\u8a2d\u5b9a\u6a94\u6848\u8def\u5f91\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx postcss ./src/style.css -o ./src/all.css -w\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u78ba\u5b9a\u6a94\u6848\u540d\u7a31\u548c\u8def\u5f91\u4e0d\u6703\u6539\u52d5\u7684\u8a71\uff0c\u53ef\u4ee5\u628a\u9019\u500b\u6307\u4ee4\u5beb\u5230 package.json\uff0c",(0,t.jsx)(n.br,{}),"\n","\u9019\u6a23\u4e0b\u6b21\u7e7c\u7e8c\u958b\u767c\u6642\u5c31\u4e0d\u7528\u518d\u6253\u9019\u500b\u5197\u9577\u7684\u8def\u5f91\uff0c\u7528 npm run watch \u5c31\u53ef\u4ee5\u555f\u52d5\u7de8\u8b6f\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'"scripts": {\n\t"test": "echo \\"Error: no test specified\\" && exit 1",\n\t"watch": "postcss ./src/style.css -o ./src/all.css -w"\n},\n'})}),"\n",(0,t.jsxs)(n.p,{children:["HTML \u6a94\u8981\u8a18\u5f97\u5f15\u5165",(0,t.jsx)(n.strong,{children:"\u52a0\u5de5\u5b8c\u7684 CSS \u6a94"}),"\uff0c\u4e0d\u7136\u5c31\u505a\u767d\u5de5\u5566\uff5e\uff5e"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<link rel="stylesheet" href="./src/all.css">\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u9019\u908a\u793a\u7bc4\u6709\u5b89\u88dd autoprefix \u63d2\u4ef6\u7684\u72c0\u6cc1\u4e0b\u7de8\u8b6f\u7684\u7d50\u679c\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://drive.google.com/uc?export=view&id=1kr4ButmRolfrHlejFOIvVnSgbdmxCLB7",alt:"autoprefix \u5c55\u793a"})}),"\n",(0,t.jsx)(n.p,{children:"\u9019\u88e1\u4f7f\u7528\u4e86 ::selection \u9019\u500b\u507d\u5143\u7d20\u529f\u80fd\uff0c\u7d93\u904e autoprefix \u5224\u65b7\u5f8c\u5728 FireFox \u700f\u89bd\u5668\u6709\u53ef\u80fd\u4e0d\u652f\u63f4\uff0c \u6240\u4ee5\u5e6b\u5fd9\u52a0\u4e0a\u4e86 -moz- \u7684\u524d\u7db4\uff01"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"webpack",children:"Webpack"}),"\n",(0,t.jsxs)(n.p,{children:["\u5229\u7528 webpack \u6253\u5305\u5c31\u4e0d\u9700\u8981 postCSS \u7684 CLI \u7de8\u8b6f\u4e86\uff0c\u4f46\u53cd\u904e\u4f86\u8aaa\u9019\u6b21\u8981\u63db webpack-CLI \u7de8\u8b6f\u3002",(0,t.jsx)(n.br,{}),"\n","\u56e0\u70ba ",(0,t.jsx)(n.strong,{children:"postcss-preset-env"})," \u9019\u500b\u5957\u4ef6\u5df2\u7d93\u96c6\u6210\u4e00\u4e9b postCSS \u7684\u63d2\u4ef6\uff0c",(0,t.jsx)(n.br,{}),"\n","\u6240\u4ee5 webpack \u5b98\u65b9\u63a8\u85a6\u5b89\u88dd\u9019\u500b\uff0c\u4e0d\u7528\u518d\u53e6\u5916\u5b89\u88dd autoprefixer\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D webpack webpack-cli postcss\n"})}),"\n",(0,t.jsx)(n.p,{children:"webpack \u662f\u4f9d\u9760\u5404\u7a2e loader \u7684\u529f\u80fd\u89e3\u6790\u6a94\u6848\u7684\uff0c\u9019\u908a\u628a\u6240\u6709\u7528\u5230\u7684 loader \u90fd\u5b89\u88dd\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D css-loader postcss-loader postcss-preset-env\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u8981\u6ce8\u610f webpack \u9810\u8a2d\u6703\u8f09\u5165\u4e00\u500b js \u6a94\u4f5c\u70ba\u9032\u5165\u9ede\uff0c",(0,t.jsx)(n.br,{}),"\n","\u800c\u6700\u5f8c\u7de8\u8b6f\u5b8c\u6210\u90fd\u6703\u8b8a\u6210\u4e00\u652f bundle.js \u6a94\u7d66\u6211\u5011\u4f7f\u7528\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u662f\u7df4\u7fd2\u539f\u751f JS \u7684\u6771\u897f\uff0c\u61c9\u8a72\u4e0d\u5e0c\u671b css \u6a94\u4e5f\u88ab\u6574\u5408\u9032\u53bb\uff0c",(0,t.jsx)(n.br,{}),"\n","\u6240\u4ee5\u9700\u8981\u53e6\u5916\u4e00\u500b\u63d2\u4ef6 mini-css-extract-plugin \uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D mini-css-extract-plugin\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5927\u8cbb\u5468\u7ae0\u5b89\u88dd\u5b8c\u6240\u6709\u6771\u897f\u5f8c\uff0c\u5728\u6839\u76ee\u9304\u65b0\u589e webpack.config.js\uff0c",(0,t.jsx)(n.br,{}),"\n","\u628a\u793a\u7bc4\u88e1\u9762\u7684 code \u90fd\u6473\u904e\u4f86~~\uff08\u6c92\u8fa6\u6cd5 webpack \u8a2d\u5b9a\u5c31\u662f\u9577\u9019\u9ebc\u919c\uff09~~"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="webpack.config.js"',children:'module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          "style-loader",\n          "css-loader",\n          {\n            loader: "postcss-loader",\n            options: {\n              postcssOptions: {\n                plugins: [\n                  [\n                    "postcss-preset-env",\n                    {\n                      // Options\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"style-loader"})," \u662f\u5728\u6700\u5f8c\u8f38\u51fa\u6210 bundle.js \u6642\u628a css \u6a94\u4e5f\u6293\u9032\u4f86\u7de8\u8b6f\uff0c",(0,t.jsx)(n.br,{}),"\n","\u6700\u5f8c\u5728 html \u8f09\u5165\u6642\u4e5f\u6703\u4e00\u8d77\u8f09\u5165\u539f\u672c\u5beb\u597d\u7684\u6a23\u5f0f\uff0c",(0,t.jsx)(n.br,{}),"\n","\u4f46\u5728\u9019\u908a\u6211\u5011\u4e0d\u9700\u8981\uff5e\uff5e\uff08\u800c\u4e14\u525b\u525b\u6ce8\u610f\u525b\u525b\u4e26\u6c92\u6709\u5b89\u88dd\u9019\u500b loader \u54e6\uff01\uff09",(0,t.jsx)(n.br,{}),"\n","\u6240\u4ee5\u8981\u628a ",(0,t.jsx)(n.strong,{children:"style-loader"})," \u66ff\u63db\u6210\u6211\u5011\u525b\u525b\u5b89\u88dd\u7684\u63d2\u4ef6 mini-css-extract-plugin\uff0c",(0,t.jsx)(n.br,{}),"\n","\u9806\u4fbf\u8a2d\u5b9a\u4e00\u4e0b webpack \u7684\u8f38\u5165\u8f38\u51fa\u8def\u5f91\u548c\u6a21\u5f0f\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="webpack.config.js"',children:'const path = require("path");\nconst MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\nmodule.exports = {\n\tmode: \'development\', // mode \u9078 development \u5373\u53ef\n\tentry: "./src/main.js", // \u8f38\u5165\u9ede\u662f\u5fc5\u586b\u7684\u4e0d\u7136 webpack \u6c92\u8fa6\u6cd5\u555f\u52d5\u7de8\u8b6f\n\toutput: { // \u8f38\u51fa\u8def\u5f91\u8a2d\u5b9a\n\t\tfilename: "bundle.js",\n\t\tpath: path.resolve(__dirname, "dist"),\n\t},\n\t\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          MiniCssExtractPlugin.loader, // \u628a style-loader \u66ff\u63db\u6389\n          "css-loader",\n          {\n            loader: "postcss-loader",\n            options: {\n              postcssOptions: {\n                plugins: [\n                  [\n                    "postcss-preset-env",\n                    {\n                      // Options\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n  plugins: [\n\t\tnew MiniCssExtractPlugin({\n\t\t\tfilename: "all.css", // \u8f38\u51fa\u7684 css \u6a94\u540d\uff0c\u9019\u500b\u4e5f\u6703\u5728\u4e0a\u9762\u8a2d\u5b9a\u7684 dist \u8cc7\u6599\u593e\u51fa\u73fe\n\t\t}),\n\t],\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8a2d\u5b9a\u5b8c\u4e4b\u5f8c\u76f4\u63a5\u6572 webpack \u7684 CLI \u5c31\u6703\u7de8\u8b6f\u4e86\uff0c\u8ddf\u5176\u4ed6 CLI \u4e00\u6a23\uff0cwebpack \u4e5f\u53ef\u4ee5\u76e3\u807d\uff0c\u9019\u908a\u5c31\u4e0d\u793a\u7bc4\u76f4\u63a5\u7de8\u8b6f\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx webpack\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u53bb dist \u8cc7\u6599\u593e\u627e\u5230\u525b\u525b\u7de8\u8b6f\u5b8c\u6210\u7684 all.css\uff0c\u5167\u5bb9\u5df2\u7d93\u88ab autoprefixer \u4fee\u6539\u904e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"/*!****************************************************************************************************************************************************************************************************************************************************************!*\\\n\n!*** css ./node_modules/.pnpm/css-loader@6.8.1_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@7.3.3_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/style.css ***!\n\n\\****************************************************************************************************************************************************************************************************************************************************************/\n\nh1::-moz-selection {\n\tcolor: red;\n}\n\nh1::selection {\n\tcolor: red;\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://youtu.be/EdiqfOKHBb8?si=Wq8OtsNSJ87Mh1cy",children:"PostCSS\u6559\u5b78"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://medium.com/%E5%89%8D%E7%AB%AF%E5%B0%8F%E7%A9%BA%E9%96%93/webpack-postcss-%E8%88%87-autoprefixer-css-%E7%80%8F%E8%A6%BD%E5%99%A8%E7%9B%B8%E5%AE%B9%E6%80%A7-6320900d47cc",children:"Webpack - PostCSS \u8207 autoprefixer CSS \u700f\u89bd\u5668\u76f8\u5bb9\u6027"})}),"\n"]})]})}function d(s={}){const{wrapper:n}={...(0,c.R)(),...s.components};return n?(0,t.jsx)(n,{...s,children:(0,t.jsx)(p,{...s})}):p(s)}},8453:(s,n,e)=>{e.d(n,{R:()=>l,x:()=>i});var t=e(6540);const c={},r=t.createContext(c);function l(s){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof s?s(n):{...n,...s}}),[n,s])}function i(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:l(s.components),t.createElement(r.Provider,{value:n},s.children)}}}]);